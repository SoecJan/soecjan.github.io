import{a as mt}from"./chunk-AKP6OJVK.js";import{a as st}from"./chunk-NO3DIT6L.js";import{d as V,e as F,f as lt,h as ct,i as g}from"./chunk-KQLZVHCS.js";import"./chunk-FQNBHVOS.js";import{b as C,c as S}from"./chunk-4QLM6F33.js";import{L as v,M as D,O as N,P as B,Q as _,S as M}from"./chunk-5IB2KY5V.js";import{j as it,k as rt,m as at,o as h}from"./chunk-W5CFHTUA.js";import{H as Q,Hb as c,Ib as i,Jb as r,Kb as Y,Ob as j,Sb as m,Tb as d,U as X,Va as s,W as O,_ as f,_a as L,a as k,b as w,bc as Z,ca as E,d as G,fb as p,fc as a,gc as u,hc as tt,ia as b,ic as et,ja as y,l as q,lb as A,oc as ot,pc as nt,q as T,z}from"./chunk-R5CCZWKX.js";var R=class o extends mt{constructor(){super({index:0,baloneys:[]})}static \u0275fac=function(t){return new(t||o)};static \u0275prov=f({token:o,factory:o.\u0275fac,providedIn:"root"})};var P=class o{constructor(e){this.httpClient=e}getAll(){return this.httpClient.get("balooney.json")}static \u0275fac=function(t){return new(t||o)(E(st))};static \u0275prov=f({token:o,factory:o.\u0275fac,providedIn:"root"})};var I=class o{constructor(e,t){this.balooneyStore=e;this.balooneyEndpoint=t}getAll(){return this.balooneyStore.state?.baloneys?.length>0?this.balooneyStore.state$:this.balooneyEndpoint.getAll().pipe(O(e=>this.balooneyStore.setState(e)),X(()=>this.balooneyStore.state$))}add(e){}remove(e){}removeAll(){}update(e){}download(){var e=JSON.stringify(this.balooneyStore.state),t=document.createElement("a");t.setAttribute("href","data:text/json;charset=UTF-8,"+encodeURIComponent(e)),t.setAttribute("download","balooney.json"),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)}upload(e){this.readText(e).subscribe(t=>{JSON.parse(t).baloneys.forEach(l=>this.add(w(k({},l),{id:0})))})}readText(e){let t=e.target.files.item(0);return q(t.text())}nextSoja(){let e=this.balooneyStore.state,t=e.index+1;t=t%e.baloneys.length,this.balooneyStore.setState(w(k({},e),{index:t}))}restart(){this.balooneyStore.setState(w(k({},this.balooneyStore.state),{index:0}))}static \u0275fac=function(t){return new(t||o)(E(R),E(P))};static \u0275prov=f({token:o,factory:o.\u0275fac,providedIn:"root"})};function Bt(o,e){if(o&1&&(i(0,"mat-card-title"),a(1),r()),o&2){let t=d();s(),u(t.title)}}function _t(o,e){if(o&1&&(i(0,"mat-card-title"),a(1),r()),o&2){let t=d();s(),et("",t.title,": Timer - ",t.counter,"s")}}function Mt(o,e){if(o&1&&(i(0,"mat-list-option",6),a(1),r()),o&2){let t=e.$implicit,n=d();c("disabled",!!n.isLocked||!!n.isCounting)("value",t),s(),tt(" ",t==null?null:t.contentDe," ")}}function gt(o,e){if(o&1){let t=j();i(0,"button",4),m("click",function(){b(t);let l=d();return y(l.startCounter())}),a(1,"TIMER STARTEN"),r()}if(o&2){let t=d();c("disabled",!t.isLocked||!!t.isCounting)}}function xt(o,e){if(o&1){let t=j();i(0,"button",4),m("click",function(){b(t);let l=d();return y(l.stopCounter())}),a(1,"TIMER STOPPEN"),r()}if(o&2){let t=d();c("disabled",t.counter===0)}}var $=class o{constructor(e){this.balooneyService=e;this.balooneyService.getAll().pipe(T(t=>t.baloneys.filter(n=>"ITEM"===n.type)),Q(1)).subscribe(t=>{this.allBaloneys=t,this.selectShownBaloneys()})}title="Verk\xE4ufer";isLocked=!1;isLockable=!1;isCounting=!1;baloneyOptionCount=5;baloneyChoiceAmount=2;allBaloneys=[];selectedBaloneys=[];shownBaloneys=[];counter=30;sub=new G;selectShownBaloneys(){let e=[];for(let t=0;t<this.baloneyOptionCount;t++)e.push(this.allBaloneys[Math.floor(Math.random()*this.allBaloneys.length)]);this.shownBaloneys=e}reset(){this.counter=30,this.isCounting=!1,this.selectShownBaloneys(),this.isLocked=!1}ngOnInit(){}onSelection(e,t){let n=[];t.forEach(l=>{n.push(l.value)}),this.selectedBaloneys=n,this.isLockable=this.selectedBaloneys.length===this.baloneyChoiceAmount}lockItems(){this.isLocked=!0,this.shownBaloneys=this.selectedBaloneys}startCounter(){this.isCounting=!0,this.sub=z(1e3).pipe(O(()=>{this.counter--})).subscribe(()=>{this.counter===0&&this.sub.unsubscribe()})}stopCounter(){this.sub.unsubscribe(),this.counter=30,this.isCounting=!1}static \u0275fac=function(t){return new(t||o)(L(I))};static \u0275cmp=p({type:o,selectors:[["app-booth"]],decls:16,vars:7,consts:[["baloneyList",""],[4,"ngIf"],[3,"selectionChange"],[3,"disabled","value",4,"ngFor","ngForOf"],["mat-button","",3,"click","disabled"],["mat-button","",3,"disabled","click",4,"ngIf"],[3,"disabled","value"]],template:function(t,n){if(t&1){let l=j();i(0,"mat-card")(1,"mat-card-header"),A(2,Bt,2,1,"mat-card-title",1)(3,_t,2,2,"mat-card-title",1),i(4,"mat-card-subtitle"),a(5,"W\xE4hle 2 Optionen, welche in Kombination dein Produkt ergeben"),r()(),i(6,"mat-selection-list",2,0),m("selectionChange",function(bt){b(l);let yt=Z(7);return y(n.onSelection(bt,yt.selectedOptions.selected))}),A(8,Mt,2,3,"mat-list-option",3),r(),i(9,"mat-card-actions")(10,"button",4),m("click",function(){return b(l),y(n.lockItems())}),a(11,"BEST\xC4TIGEN"),r(),A(12,gt,2,1,"button",5)(13,xt,2,1,"button",5),i(14,"button",4),m("click",function(){return b(l),y(n.reset())}),a(15,"WEITER"),r()()()}t&2&&(s(2),c("ngIf",!n.isLocked),s(),c("ngIf",!!n.isLocked),s(5),c("ngForOf",n.shownBaloneys),s(2),c("disabled",!n.isLockable||!!n.isLocked||!!n.isCounting),s(2),c("ngIf",!n.isCounting),s(),c("ngIf",!!n.isCounting),s(),c("disabled",n.counter!==0))},dependencies:[h,it,rt,M,v,B,_,N,D,S,C,g,ct,lt],encapsulation:2})};var U=class o{constructor(e){this.balooneyService=e;this.allBaloneys$=this.balooneyService.getAll().pipe(T(t=>t.baloneys.filter(n=>"CUSTOMER"===n.type))),this.customer$=this.selectShownBaloneys()}title="Kunde";customer$;allBaloneys$;ngOnInit(){}selectShownBaloneys(){return this.allBaloneys$.pipe(T(e=>e[Math.floor(Math.random()*e.length)].contentDe))}next(){this.customer$=this.selectShownBaloneys()}static \u0275fac=function(t){return new(t||o)(L(I))};static \u0275cmp=p({type:o,selectors:[["app-customer"]],decls:13,vars:4,consts:[["role","list"],["role","listitem"],["mat-button","",3,"click"]],template:function(t,n){t&1&&(i(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),a(3),r(),i(4,"mat-card-subtitle"),a(5,"Deine Rolle aus welcher deine Kaufentscheidung getroffen wird"),r()(),i(6,"mat-list",0)(7,"mat-list-item",1),a(8),ot(9,"async"),r()(),i(10,"mat-card-actions")(11,"button",2),m("click",function(){return n.next()}),a(12,"WEITER"),r()()()),t&2&&(s(3),u(n.title),s(5),u(nt(9,2,n.customer$)))},dependencies:[h,M,v,B,_,N,D,S,C,g,V,F,at],encapsulation:2})};var H=class o{title="Punktestand";score=0;constructor(){}ngOnInit(){}addToScore(e){this.score+=e}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=p({type:o,selectors:[["app-score"]],decls:12,vars:2,consts:[["role","list"],["role","listitem"],["mat-button","",3,"click"]],template:function(t,n){t&1&&(i(0,"mat-card")(1,"mat-card-header")(2,"h4"),a(3),r()(),i(4,"mat-list",0)(5,"mat-list-item",1),a(6),r()(),i(7,"mat-card-actions")(8,"button",2),m("click",function(){return n.addToScore(-1)}),a(9,"MINUS"),r(),i(10,"button",2),m("click",function(){return n.addToScore(1)}),a(11,"PLUS"),r()()()),t&2&&(s(3),u(n.title),s(3),u(n.score))},dependencies:[h,M,v,B,_,S,C,g,V,F],encapsulation:2})};var J=class o{title="balooneybooth";static \u0275fac=function(t){return new(t||o)};static \u0275cmp=p({type:o,selectors:[["app-balooneybooth"]],decls:5,vars:0,consts:[[2,"height","12px"]],template:function(t,n){t&1&&Y(0,"app-booth")(1,"div",0)(2,"app-customer")(3,"div",0)(4,"app-score")},dependencies:[$,U,H],encapsulation:2})};var ae=[{path:"",component:J}];export{ae as routes};
